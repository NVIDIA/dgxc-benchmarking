# Setup
general:
  workload: deepseek-r1-sglang
  workload_type: inference
  gsw_version: '25.10'
  framework: sglang

container:
  images:
    by_gpu:
      gb200:
        - 'lmsysorg/sglang:v0.5.3-cu129-gb200'
      b200:
        - 'lmsysorg/sglang:v0.5.3rc0-cu128-b200'

setup:
  venv_req: true
  dependencies:
      pip:
      - 'huggingface_hub[cli]'
  tasks:
    - name: weights_download
      cmd: './download_weights.sh'
      job_type: local
      requires_gpus: false

# Run
run:
  launcher_type: 'sbatch'
  launch_script: 'launch.sh'

  gpu_configs:
    gb200:
      model_configs:
        - model_size: '671b'
          dtypes: ['nvfp4']
          scales: [4]
          exact_scales: true
    b200:
      model_configs:
        - model_size: '671b'
          dtypes: ['nvfp4']
          scales: [8]
          exact_scales: true